<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        @import url('./src/css/bodyck.css')
    </style>
    <link rel="icon" sizes="82x82" href="./image/favicon.png">
    <title>星河城服务平台</title>
    <script type="text/javascript" src="./src/js/dnyyfbwbst.js">
    </script>
    <script src="./src/js/jquery.min.js"></script>
    <!-- 最新版本的 Bootstrap 文件 -->
    <link rel="stylesheet" href="src/css/bootstrap.min.css">
    <script src="src/js/jquery-3.6.1.min.js"></script>
    <script src="src/js/bootstrap.min.js"></script>
    <!-- 自定义样式、JS -->
    <link rel="stylesheet" href="src/css/index.css">
    <script src="src/js/index.js"></script>
</head>

<body>
    <!--鼠标特效-->>
    <script>
        function clickEffect() {
            let balls = [];
            let longPressed = false;
            let longPress;
            let multiplier = 0;
            let width, height;
            let origin;
            let normal;
            let ctx;
            const colours = ["#F73859", "#14FFEC", "#00E0FF", "#FF99FE", "#FAF15D"];
            const canvas = document.createElement("canvas");
            document.body.appendChild(canvas);
            canvas.setAttribute("style", "width: 100%; height: 100%; top: 0; left: 0; z-index: 99999; position: fixed; pointer-events: none;");
            const pointer = document.createElement("span");
            pointer.classList.add("pointer");
            document.body.appendChild(pointer);

            if (canvas.getContext && window.addEventListener) {
                ctx = canvas.getContext("2d");
                updateSize();
                window.addEventListener('resize', updateSize, false);
                loop();
                window.addEventListener("mousedown", function (e) {
                    pushBalls(randBetween(10, 20), e.clientX, e.clientY);
                    document.body.classList.add("is-pressed");
                    longPress = setTimeout(function () {
                        document.body.classList.add("is-longpress");
                        longPressed = true;
                    }, 500);
                }, false);
                window.addEventListener("mouseup", function (e) {
                    clearInterval(longPress);
                    if (longPressed == true) {
                        document.body.classList.remove("is-longpress");
                        pushBalls(randBetween(50 + Math.ceil(multiplier), 100 + Math.ceil(multiplier)), e.clientX, e.clientY);
                        longPressed = false;
                    }
                    document.body.classList.remove("is-pressed");
                }, false);
                window.addEventListener("mousemove", function (e) {
                    let x = e.clientX;
                    let y = e.clientY;
                    pointer.style.top = y + "px";
                    pointer.style.left = x + "px";
                }, false);
            } else {
                console.log("canvas or addEventListener is unsupported!");
            }


            function updateSize() {
                canvas.width = window.innerWidth * 2;
                canvas.height = window.innerHeight * 2;
                canvas.style.width = window.innerWidth + 'px';
                canvas.style.height = window.innerHeight + 'px';
                ctx.scale(2, 2);
                width = (canvas.width = window.innerWidth);
                height = (canvas.height = window.innerHeight);
                origin = {
                    x: width / 2,
                    y: height / 2
                };
                normal = {
                    x: width / 2,
                    y: height / 2
                };
            }
            class Ball {
                constructor(x = origin.x, y = origin.y) {
                    this.x = x;
                    this.y = y;
                    this.angle = Math.PI * 2 * Math.random();
                    if (longPressed == true) {
                        this.multiplier = randBetween(14 + multiplier, 15 + multiplier);
                    } else {
                        this.multiplier = randBetween(6, 12);
                    }
                    this.vx = (this.multiplier + Math.random() * 0.5) * Math.cos(this.angle);
                    this.vy = (this.multiplier + Math.random() * 0.5) * Math.sin(this.angle);
                    this.r = randBetween(8, 12) + 3 * Math.random();
                    this.color = colours[Math.floor(Math.random() * colours.length)];
                }
                update() {
                    this.x += this.vx - normal.x;
                    this.y += this.vy - normal.y;
                    normal.x = -2 / window.innerWidth * Math.sin(this.angle);
                    normal.y = -2 / window.innerHeight * Math.cos(this.angle);
                    this.r -= 0.3;
                    this.vx *= 0.9;
                    this.vy *= 0.9;
                }
            }

            function pushBalls(count = 1, x = origin.x, y = origin.y) {
                for (let i = 0; i < count; i++) {
                    balls.push(new Ball(x, y));
                }
            }

            function randBetween(min, max) {
                return Math.floor(Math.random() * max) + min;
            }

            function loop() {
                ctx.fillStyle = "rgba(255, 255, 255, 0)";
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                for (let i = 0; i < balls.length; i++) {
                    let b = balls[i];
                    if (b.r < 0) continue;
                    ctx.fillStyle = b.color;
                    ctx.beginPath();
                    ctx.arc(b.x, b.y, b.r, 0, Math.PI * 2, false);
                    ctx.fill();
                    b.update();
                }
                if (longPressed == true) {
                    multiplier += 0.2;
                } else if (!longPressed && multiplier >= 0) {
                    multiplier -= 0.4;
                }
                removeBall();
                requestAnimationFrame(loop);
            }

            function removeBall() {
                for (let i = 0; i < balls.length; i++) {
                    let b = balls[i];
                    if (b.x + b.r < 0 || b.x - b.r > width || b.y + b.r < 0 || b.y - b.r > height || b.r < 0) {
                        balls.splice(i, 1);
                    }
                }
            }
        }
        clickEffect();
    </script>
    <!-- 导航栏 -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                        data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">星河城服务平台</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#">主页</a></li>
                    <li><a href="subway/index.html">星河轨道交通</a></li>
                    <li><a href="report/index.html">申诉/举报</a></li>
                    <li><a href="ban/index.html">封禁相关</a></li>
                    <li><a href="https://dnyyfb.github.io/">工作室网站</a></li>
                    <li><a href="https://space.bilibili.com/606741691/">B站首页</a></li>
                    <li><a href="/jianzhang/index.html">规范守则</a></li>
                    <li><a href="announce/index.html">公告</a></li>
                    <li><a href="https://voice.baidu.com/act/newpneumonia/newpneumonia/?from=osari_pc_1">抗击疫情</a></li>
                    <li><a href="../info/index.html">服务器实时信息</a></li>
                </ul>
            </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
    </nav>
    <!--春节灯笼代码-->
    <!--
        <div class="deng-box">
            <div class="deng">
                <div class="xian"></div>
                <div class="deng-a">
                    <div class="deng-b"><div class="deng-t">节</div></div>
                </div>
                <div class="shui shui-a"><div class="shui-c"></div><div class="shui-b"></div></div>
            </div>
        </div>
        <div class="deng-box1">
            <div class="deng">
                <div class="xian"></div>
                <div class="deng-a">
                    <div class="deng-b"><div class="deng-t">春</div></div>
                </div>
                <div class="shui shui-a"><div class="shui-c"></div><div class="shui-b"></div></div>
            </div>
        </div>
        <style>
    .top *{display:inline-block;vertical-align:middle;horizontal-align:center;}
    </style>
    <span><h1><img src="./image/favicon.png">星河城服务平台<br><font size="3.22">Xinghe City Service Platform(XCSP)</font></h1></span>
    <span><h1 style="color:red;">热烈庆祝中国共产党成立100周年！<br></h1></span>
    <span><h1 style="color:red;">祝大家2022新年快乐！<br></h1></span>
    <div id="resultdiv" style="border:1px solid orange; background-color: #FFFFCC; cursor:pointer;">
        加载时发生了错误，请尝试刷新或稍后再试。（错误代码：E1 详细信息：Javascript_load_fail）
    </div>
    <script>
        document.getElementById("resultdiv").style.display = "none";
    </script>
    <style type="text/css">
        @import url('./src/css/p.css')
    </style>
    <style type="text/css">
        @import url('./src/css/p.css')
    </style>
    <style type="text/css">
        @import url('./src/css/a.css')
    </style>
    <style type="text/css">
        @import url('./src/css/m/1.css')
    </style>
    <style type="text/css">
        @import url("./src/css/m.css")
    </style>
    <style type="text/css">
        @import url("./src/css/i.css")
    </style>
    -->
    <!-- 主体 -->
    <div class="container">

        <div class="row">
            <div class="text-center">
                <img src="./image/favicon.png" alt="..." class="img-rounded" style="height: 40px;">
                <h3 class="title">星河城服务平台</h3>
            </div>
        </div>
        <br>

        <div class="CSSgal">

            <!-- Don't wrap targets in parent -->
            <s id="s1"></s>
            <s id="s2"></s>
            <s id="s3"></s>
            <s id="s4"></s>

            <div class="slider">
                <div style="background-image: url(image/xingherail.png);">
                    <h2>星河轨道交通</h2>
                    <button type="button" class="btn btn-default" aria-label="Left Align">
                        <span class="glyphicon glyphicon-align-left" aria-hidden="true"><a href="subway/index.html">详情</a></span>
                    </button>
                </div>
                <div style="background-image: url(image/report.png);">
                    <h2>申诉/举报</h2>
                    <button type="button" class="btn btn-default" aria-label="Left Align">
                        <span class="glyphicon glyphicon-align-left" aria-hidden="true"><a href="report/index.html">详情</a></span>
                    </button>
                </div>
                <div style="background-image: url(image/ban.png);">
                    <h2>封禁相关</h2>
                    <button type="button" class="btn btn-default" aria-label="Left Align">
                        <span class="glyphicon glyphicon-align-left" aria-hidden="true"><a href="ban/index.html">详情</a></span>
                    </button>
                </div>
                <div style="background-image: url(image/xinghecard.png);">
                    <h2>星河一城通</h2>
                    <button type="button" class="btn btn-default" aria-label="Left Align">
                        <span class="glyphicon glyphicon-align-left" aria-hidden="true"><a href="subway/index.html">详情</a></span>
                    </button>
                </div>
            </div>
            <br>
            <br>
            <div class="bullets">
                <a href="#s1">1</a>
                <a href="#s2">2</a>
                <a href="#s3">3</a>
                <a href="#s4">4</a>
            </div>

        </div>

    </div>
    <div class="text-center">
        当前时间：<span id="cg">2022/01/01 下午00:00:00</span>
        <script type="text/javascript">
            setInterval("cg.innerHTML=new Date().toLocaleString()", 1000);
        </script>
        <br>
        <script type="text/javascript">
            var t = new Date();//获取当前时间
            var year = t.getFullYear();//获取当前时间年份
            var month = t.getMonth() + 1;//获取当前时间月份
            var day = t.getDate();//获取当前时间日
            var week = t.getDay() - 1;//获取当前时间星期
            var arr = new Array("星期一", "星期二", "星期三", "星期四", "星期五", "星期六", "星期日",);
            //上行是为规划星期的输出
            //下3行分别获得当前时间的时 分 秒
            var hour = t.getHours();
            var minute = t.getMinutes();
            var second = t.getSeconds();
            var nowTime = "您上次刷新的时间：" + year + "/" + month + "/" + day + " " + arr[week] + " " + hour + ((minute < 10) ? ":0" : ":") + minute + ((second < 10) ? ":0" : ":")
                + second;
            document.write(nowTime);
        </script>


        <!-- 服务器状态检测代码开始 -->
        <div class="server-status">
            当前服务器状态： <span class="server-online"></span>!
        </div>

        <script src="/src/js/minecraft.min.js"></script>
        <script>
            MinecraftAPI.getServerStatus('play.xinghecity.xyz', {
                port: 37023
            }, function (err, status) {
                if (err) {
                    return document.querySelector('.server-status').innerHTML = '服务器状态加载失败';
                }
                document.querySelector('.server-online').innerHTML = status.online ? '服务器运行状态正常' : '服务器已关闭';
            });
        </script>
        <!-- 服务器状态检测代码结束 -->


    </div>


    <!-- 页脚 -->
    <nav class="navbar navbar-default navbar-fixed-bottom">
        <div class="container">
            <div class="text-center" style="color:#808069">
                Copyright &copy2018-2022 电脑菌 All Right Reserved.
                电脑音乐发布工作室03号网页服务器运行|部分代码由笔稽菌提供<br>
                <img src="./image/moeicon.png" alt="萌ICP" width="25px" height="25px"><a href="https://icp.gov.moe/?keyword=20210285" target="_blank">萌ICP备20210285号</a>
                <br>
                <span id="lmao">
                    Powered by <a href="javascript:$(&#39;#lmao&#39;).html(&#39;Not powered by WordPress,Powered by Dnyyfb&#39;)">W0rdPress</a>
                </span>|<span id="lmao2">
                    This a <a href="https://www.bilibili.com/video/BV1GJ411x7h7">ilnk</a>
                </span>
            </div>
        </div>
    </nav>
</body>
</html>
